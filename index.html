<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>宝贝专属点餐系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B8B',    // 温柔的粉色作为主色调
                        secondary: '#FFD166',  // 温暖的黄色作为辅助色
                        neutral: '#F9F7F7',    // 浅灰色背景
                        dark: '#454545',       // 深灰色文字
                    },
                    fontFamily: {
                        cute: ['"Comic Sans MS"', '"Marker Felt"', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
        }
    </style>
</head>
<body class="bg-neutral font-cute text-dark min-h-screen flex flex-col">
    <!-- 导航栏 -->
    <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-sm shadow-sm transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-cutlery text-primary text-2xl"></i>
                <h1 class="text-xl md:text-2xl font-bold text-primary">宝贝的专属餐厅</h1>
            </div>

            <div class="flex items-center space-x-4">
                <button id="cartBtn" class="relative p-2 rounded-full hover:bg-neutral transition-colors">
                    <i class="fa fa-shopping-cart text-xl"></i>
                    <span id="cartCount" class="absolute -top-1 -right-1 bg-secondary text-white text-xs w-5 h-5 flex items-center justify-center rounded-full">0</span>
                </button>
                <button id="themeToggle" class="p-2 rounded-full hover:bg-neutral transition-colors">
                    <i class="fa fa-moon-o text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 主横幅 -->
    <section class="relative bg-gradient-to-r from-primary/90 to-primary py-12 md:py-20 overflow-hidden">
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-2xl">
                <h2 class="text-[clamp(1.8rem,5vw,3rem)] font-bold text-white leading-tight text-shadow">
                    亲爱的，今天想吃点什么？
                </h2>
                <p class="text-white/90 mt-4 text-lg md:text-xl">
                    为你准备了所有你爱吃的，随便点，我来做~
                </p>
                <div class="mt-8">
                    <div class="relative max-w-md">
                        <input type="text" placeholder="搜索想吃的美食..."
                            class="w-full py-3 px-5 pr-12 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-secondary">
                        <button class="absolute right-3 top-1/2 -translate-y-1/2 bg-secondary p-2 rounded-full">
                            <i class="fa fa-search text-white"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 装饰元素 -->
        <div class="absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full"></div>
        <div class="absolute right-20 top-10 w-20 h-20 bg-white/10 rounded-full"></div>
    </section>

    <!-- 主内容区 -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <!-- 分类标签 -->
        <div class="mb-8 overflow-x-auto pb-2">
            <div class="flex space-x-3 min-w-max">
                <button class="category-btn bg-primary text-white px-5 py-2 rounded-full text-sm whitespace-nowrap active">
                    全部菜品
                </button>
                <button class="category-btn bg-white text-dark px-5 py-2 rounded-full text-sm whitespace-nowrap hover:bg-primary/10 transition-colors">
                    早餐
                </button>
                <button class="category-btn bg-white text-dark px-5 py-2 rounded-full text-sm whitespace-nowrap hover:bg-primary/10 transition-colors">
                    主食
                </button>
                <button class="category-btn bg-white text-dark px-5 py-2 rounded-full text-sm whitespace-nowrap hover:bg-primary/10 transition-colors">
                    小吃
                </button>
                <button class="category-btn bg-white text-dark px-5 py-2 rounded-full text-sm whitespace-nowrap hover:bg-primary/10 transition-colors">
                    甜品
                </button>
                <button class="category-btn bg-white text-dark px-5 py-2 rounded-full text-sm whitespace-nowrap hover:bg-primary/10 transition-colors">
                    饮料
                </button>
            </div>
        </div>

        <!-- 菜品列表 -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- 菜品卡片1 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="主食">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food1/400/300" alt="番茄炒蛋" class="w-full h-full object-cover">
                    <span class="absolute top-3 right-3 bg-secondary text-white text-xs px-2 py-1 rounded-full">
                        你最爱
                    </span>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">番茄炒蛋</h3>
                        <span class="text-primary font-bold">¥12</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">酸甜可口，你的最爱</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-half-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.5</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="1" data-name="番茄炒蛋" data-price="12" data-img="https://picsum.photos/seed/food1/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片2 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="甜品">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food2/400/300" alt="草莓蛋糕" class="w-full h-full object-cover">
                    <span class="absolute top-3 right-3 bg-secondary text-white text-xs px-2 py-1 rounded-full">
                        新品
                    </span>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">草莓蛋糕</h3>
                        <span class="text-primary font-bold">¥22</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">新鲜草莓，甜而不腻</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">5.0</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="2" data-name="草莓蛋糕" data-price="22" data-img="https://picsum.photos/seed/food2/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片3 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="饮料">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food3/400/300" alt="珍珠奶茶" class="w-full h-full object-cover">
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">珍珠奶茶</h3>
                        <span class="text-primary font-bold">¥15</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">Q弹珍珠，香浓奶茶</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.0</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="3" data-name="珍珠奶茶" data-price="15" data-img="https://picsum.photos/seed/food3/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片4 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="早餐">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food4/400/300" alt="爱心三明治" class="w-full h-full object-cover">
                    <span class="absolute top-3 right-3 bg-secondary text-white text-xs px-2 py-1 rounded-full">
                        你最爱
                    </span>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">爱心三明治</h3>
                        <span class="text-primary font-bold">¥8</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">营养健康，爱心形状</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-half-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.5</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="4" data-name="爱心三明治" data-price="8" data-img="https://picsum.photos/seed/food4/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片5 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="小吃">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food5/400/300" alt="薯条" class="w-full h-full object-cover">
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">薯条</h3>
                        <span class="text-primary font-bold">¥10</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">金黄酥脆，外焦里嫩</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-o text-secondary text-xs"></i>
                            <i class="fa fa-star-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">3.0</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="5" data-name="薯条" data-price="10" data-img="https://picsum.photos/seed/food5/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片6 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="主食">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food6/400/300" alt="牛肉面" class="w-full h-full object-cover">
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">牛肉面</h3>
                        <span class="text-primary font-bold">¥18</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">大块牛肉，劲道面条</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.0</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="6" data-name="牛肉面" data-price="18" data-img="https://picsum.photos/seed/food6/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片7 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="甜品">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food7/400/300" alt="巧克力冰淇淋" class="w-full h-full object-cover">
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">巧克力冰淇淋</h3>
                        <span class="text-primary font-bold">¥16</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">丝滑浓郁，甜到心里</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-half-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.5</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="7" data-name="巧克力冰淇淋" data-price="16" data-img="https://picsum.photos/seed/food7/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>

            <!-- 菜品卡片8 -->
            <div class="food-card bg-white rounded-2xl shadow-md overflow-hidden card-hover" data-category="饮料">
                <div class="relative h-48 overflow-hidden">
                    <img src="https://picsum.photos/seed/food8/400/300" alt="鲜榨橙汁" class="w-full h-full object-cover">
                    <span class="absolute top-3 right-3 bg-secondary text-white text-xs px-2 py-1 rounded-full">
                        健康
                    </span>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <h3 class="font-bold text-lg">鲜榨橙汁</h3>
                        <span class="text-primary font-bold">¥12</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-1">新鲜水果，现榨现喝</p>
                    <div class="mt-4 flex justify-between items-center">
                        <div class="flex items-center">
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star text-secondary text-xs"></i>
                            <i class="fa fa-star-o text-secondary text-xs"></i>
                            <span class="text-gray-500 text-xs ml-1">4.0</span>
                        </div>
                        <button class="add-to-cart bg-primary text-white p-2 rounded-full text-sm hover:bg-primary/90 transition-colors"
                            data-id="8" data-name="鲜榨橙汁" data-price="12" data-img="https://picsum.photos/seed/food8/400/300">
                            <i class="fa fa-plus mr-1"></i> 加入
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 购物车侧边栏 -->
    <div id="cartSidebar" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50 flex flex-col">
        <div class="p-4 border-b flex justify-between items-center">
            <h2 class="text-xl font-bold text-primary">购物车 <span id="sidebarCartCount">(0)</span></h2>
            <button id="closeCart" class="p-2 hover:bg-neutral rounded-full">
                <i class="fa fa-times text-xl"></i>
            </button>
        </div>

        <div id="cartItems" class="flex-grow overflow-y-auto p-4">
            <div class="text-center text-gray-500 py-10">
                <i class="fa fa-shopping-cart text-4xl mb-3 text-gray-300"></i>
                <p>购物车还是空的哦~</p>
                <p class="text-sm mt-1">快去添加喜欢的美食吧</p>
            </div>
        </div>

        <div class="p-4 border-t bg-white">
            <div class="flex justify-between mb-4">
                <span class="font-bold">总计：</span>
                <span id="totalPrice" class="font-bold text-primary text-xl">¥0</span>
            </div>
            <button id="checkoutBtn" class="w-full bg-primary text-white py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                提交订单 <i class="fa fa-arrow-right ml-1"></i>
            </button>
        </div>
    </div>

    <!-- 遮罩层 -->
    <div id="overlay" class="fixed inset-0 bg-black/50 z-40 hidden transition-opacity duration-300"></div>

    <!-- 下单成功弹窗 -->
    <div id="successModal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4 transform transition-all scale-95 opacity-0" id="modalContent">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-check text-2xl text-green-500"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">订单提交成功！</h3>
                <p class="text-gray-600 mb-6">亲爱的，你的美食正在准备中啦~</p>
                <button id="closeModal" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                    好的
                </button>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-white py-6 mt-10">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-500">爱你的每一天 ❤️</p>
            <p class="text-gray-400 text-sm mt-2">为我最爱的宝贝准备的专属点餐系统</p>
        </div>
    </footer>

    <script>
        // 购物车数据
        let cart = [];

        // DOM元素
        const cartBtn = document.getElementById('cartBtn');
        const closeCart = document.getElementById('closeCart');
        const cartSidebar = document.getElementById('cartSidebar');
        const overlay = document.getElementById('overlay');
        const cartItems = document.getElementById('cartItems');
        const cartCount = document.getElementById('cartCount');
        const sidebarCartCount = document.getElementById('sidebarCartCount');
        const totalPrice = document.getElementById('totalPrice');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const successModal = document.getElementById('successModal');
        const modalContent = document.getElementById('modalContent');
        const closeModal = document.getElementById('closeModal');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const foodCards = document.querySelectorAll('.food-card');
        const themeToggle = document.getElementById('themeToggle');

        // 打开购物车
        cartBtn.addEventListener('click', () => {
            cartSidebar.classList.remove('translate-x-full');
            overlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        });

        // 关闭购物车
        function closeCartSidebar() {
            cartSidebar.classList.add('translate-x-full');
            overlay.classList.add('hidden');
            document.body.style.overflow = '';
        }

        closeCart.addEventListener('click', closeCartSidebar);
        overlay.addEventListener('click', closeCartSidebar);

        // 添加到购物车
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                const name = this.getAttribute('data-name');
                const price = parseFloat(this.getAttribute('data-price'));
                const img = this.getAttribute('data-img');

                // 检查商品是否已在购物车中
                const existingItem = cart.find(item => item.id === id);

                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        id,
                        name,
                        price,
                        img,
                        quantity: 1
                    });
                }

                // 更新购物车
                updateCart();

                // 添加动画效果
                this.innerHTML = '<i class="fa fa-check mr-1"></i> 已加';
                setTimeout(() => {
                    this.innerHTML = '<i class="fa fa-plus mr-1"></i> 加入';
                }, 1000);

                // 显示添加成功提示
                showToast('已添加到购物车~');
            });
        });

        // 更新购物车
        function updateCart() {
            // 计算总数量和总价
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            const total = cart.reduce((total, item) => total + (item.price * item.quantity), 0);

            // 更新计数器和总价
            cartCount.textContent = totalItems;
            sidebarCartCount.textContent = `(${totalItems})`;
            totalPrice.textContent = `¥${total.toFixed(2)}`;

            // 启用/禁用结账按钮
            checkoutBtn.disabled = cart.length === 0;

            // 更新购物车项目
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center text-gray-500 py-10">
                        <i class="fa fa-shopping-cart text-4xl mb-3 text-gray-300"></i>
                        <p>购物车还是空的哦~</p>
                        <p class="text-sm mt-1">快去添加喜欢的美食吧</p>
                    </div>
                `;
                return;
            }

            // 渲染购物车项目
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'flex items-center py-3 border-b last:border-0';
                itemElement.innerHTML = `
                    <img src="${item.img}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg">
                    <div class="ml-3 flex-grow">
                        <h4 class="font-medium">${item.name}</h4>
                        <p class="text-primary font-bold">¥${item.price.toFixed(2)}</p>
                    </div>
                    <div class="flex items-center">
                        <button class="decrease-qty w-6 h-6 rounded-full bg-neutral flex items-center justify-center text-gray-600 hover:bg-gray-200" data-id="${item.id}">
                            <i class="fa fa-minus text-xs"></i>
                        </button>
                        <span class="mx-3 w-6 text-center">${item.quantity}</span>
                        <button class="increase-qty w-6 h-6 rounded-full bg-neutral flex items-center justify-center text-gray-600 hover:bg-gray-200" data-id="${item.id}">
                            <i class="fa fa-plus text-xs"></i>
                        </button>
                    </div>
                `;
                cartItems.appendChild(itemElement);
            });

            // 添加数量调整事件监听
            document.querySelectorAll('.decrease-qty').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);

                    if (item.quantity > 1) {
                        item.quantity -= 1;
                    } else {
                        cart = cart.filter(item => item.id !== id);
                    }

                    updateCart();
                });
            });

            document.querySelectorAll('.increase-qty').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    const item = cart.find(item => item.id === id);
                    item.quantity += 1;
                    updateCart();
                });
            });
        }

        // 结账
        checkoutBtn.addEventListener('click', () => {
            // 关闭购物车
            closeCartSidebar();

            // 显示成功弹窗
            successModal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);

            // 清空购物车
            cart = [];
            updateCart();
        });

        // 关闭成功弹窗
        closeModal.addEventListener('click', () => {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                successModal.classList.add('hidden');
            }, 300);
        });

        // 分类筛选
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // 更新按钮样式
                categoryBtns.forEach(b => {
                    b.classList.remove('bg-primary', 'text-white');
                    b.classList.add('bg-white', 'text-dark', 'hover:bg-primary/10');
                });
                this.classList.remove('bg-white', 'text-dark', 'hover:bg-primary/10');
                this.classList.add('bg-primary', 'text-white');

                const category = this.textContent.trim();

                // 筛选菜品
                foodCards.forEach(card => {
                    if (category === '全部菜品' || card.getAttribute('data-category') === category) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // 主题切换
        themeToggle.addEventListener('click', function() {
            const icon = this.querySelector('i');
            if (icon.classList.contains('fa-moon-o')) {
                icon.classList.remove('fa-moon-o');
                icon.classList.add('fa-sun-o');
                document.body.classList.add('dark-mode');
                // 这里可以添加暗色模式的样式切换逻辑
            } else {
                icon.classList.remove('fa-sun-o');
                icon.classList.add('fa-moon-o');
                document.body.classList.remove('dark-mode');
            }
        });

        // 滚动时改变导航栏样式
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('py-2', 'shadow');
                header.classList.remove('py-3');
            } else {
                header.classList.add('py-3');
                header.classList.remove('py-2', 'shadow');
            }
        });

        // 显示提示消息
        function showToast(message) {
            // 创建toast元素
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-dark text-white px-4 py-2 rounded-full shadow-lg z-50 opacity-0 transition-opacity duration-300';
            toast.textContent = message;
            document.body.appendChild(toast);

            // 显示toast
            setTimeout(() => {
                toast.classList.remove('opacity-0');
                toast.classList.add('opacity-100');
            }, 10);

            // 隐藏toast
            setTimeout(() => {
                toast.classList.remove('opacity-100');
                toast.classList.add('opacity-0');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        }

        // 初始化购物车
        updateCart();
    </script>
</body>
</html>
